<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="RBlog">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="RBlog">
<meta property="article:author" content="Ryan">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/3/"/>





  <title>RBlog</title>
  








<meta name="generator" content="Hexo 4.2.1"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">RBlog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br />
            
            日程表
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ryan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91/" itemprop="url">决策树</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-01T17:50:15+08:00">
                2020-06-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index">
                    <span itemprop="name">机器学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="决策树算法">决策树算法</h1>
<h1 id="基本了解">基本了解</h1>
<p>决策树的一个示例如下：</p>
<p><img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91/markdown-img-paste-2018092014184172.png" style="zoom:0.5"></p>
<p><img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91/markdown-img-paste-20180920141849555.png" style="zoom:0.5"></p>
<p>能够看到，决策树的每一个条目仍然是由多个特征与类型组成，其中类型只在叶子结点，特征只在非叶子结点。叶子结点可包含特征与类型，非叶子结点只能包含特征。</p>
<p>划分停止的条件（不包含剪枝）有以下几种情况：</p>
<ol style="list-style-type: decimal">
<li>特征列全部用完（采用多数投票决定叶子的类型）</li>
<li>叶子节点中所有样本都是一个种类</li>
</ol>
<h1 id="信息论相关内容">信息论相关内容</h1>
<h2 id="熵">熵</h2>
<p>熵：用来衡量离散变量的不确定性，如抛硬币、掷骰子</p>
<p>对于离散变量<span class="math inline">\(X\)</span>，其熵的计算公式为 <span class="math display">\[H(X)=-\displaystyle\sum\limits_{x\in X}p(x_i)\cdot log_2[p(x_i)]=\displaystyle\sum\limits_{x_i\in X}p(x_i)log_2\left[\dfrac{1}{p(x_i)}\right]=E\left(log_2\left[\dfrac{1}{p(X)}\right]\right)\]</span> 其中<span class="math inline">\(x_i\)</span>表示离散变量<span class="math inline">\(X\)</span>的取值。该公式用于计算一棵深度为1的树的熵。</p>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91/a.svg">

</div>
<h2 id="条件熵">条件熵</h2>
<p>如果对于下面这样子的决策树，其熵的计算就有些不同 <img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91/b.svg"></p>
<p>该决策树是原始决策树引进一个特征后构成的深度为2的树，整棵树的熵可以通过下列公式进行计算： <span class="math display">\[H(Y\mid X)=\displaystyle\sum\limits_{x\in X}p(x)H(Y\mid X=x)\]</span> 其中 <span class="math inline">\(H(Y\mid X=x)\)</span> 即是对应子树的熵。</p>
<h2 id="联合熵与互信息信息增益">联合熵与互信息（信息增益）</h2>
<p>联合熵： <span class="math display">\[H(X,Y)=H(Y)+H(X\mid Y)=H(X)+H(Y\mid X)\]</span></p>
<p>互信息： <span class="math display">\[I(X,Y)=H(Y)-H(Y\mid X)=H(X)-H(X\mid Y)\]</span> 互信息衡量的是离散变量<span class="math inline">\(X,Y\)</span>之间的相关程度。</p>
<p><img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91/markdown-img-paste-20180920150434709.png" style="zoom:0.5"></p>
<h1 id="基于信息增益的id3模型">基于信息增益的ID3模型</h1>
<p>遍历所有的特征<span class="math inline">\(X_i\)</span>，选出使得 <span class="math display">\[Gain(Y,X_i)=I(Y,X_i) = H(Y)-H(Y\mid X_i)\]</span> 最大的<span class="math inline">\(X_i\)</span>用来扩展决策树的深度。</p>
<p>这种模型的缺陷在于倾向于构建一棵很矮很胖的树，每一次都会倾向于选择取值最多的特征。</p>
<p><img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91/markdown-img-paste-20180920152432652.png" style="zoom:0.5"></p>
<p>​ 比如上图中的例子，如果用ID3模型来构建决策树，那么必定得到如下的树：</p>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91/c.svg">

</div>
<p>该决策树毫无意义。</p>
<h1 id="基于信息增益率的c4.5模型">基于信息增益率的C4.5模型</h1>
<p>​ 遍历所有的特征<span class="math inline">\(X_i\)</span>，选出使得 <span class="math display">\[
GainRatio(Y,X_i) = \dfrac{H(Y)-H(Y\mid X_i)}{H(A)}=\dfrac{Gain(Y,X_i)}{H(A)}
\]</span> 最大的<span class="math inline">\(X_i\)</span>用来扩展决策树的深度。</p>
<p>​ 其中<span class="math inline">\(H(X_i)\)</span> 表示指标本身的熵，其计算方法与 <span class="math inline">\(H(Y)\)</span> 基本相同，区别是特征与类型的选取不同。计算 <span class="math inline">\(H(Y)\)</span> 时将<span class="math inline">\(Y\)</span>看做是类型，将<span class="math inline">\(X_i\)</span>看做特征；计算 <span class="math inline">\(H(X_i)\)</span> 时将<span class="math inline">\(X_i\)</span>看做是类型，将<span class="math inline">\(Y\)</span>看做特征。如下图所示：</p>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91/d.svg">

</div>
<h1 id="基于gini指数的cart模型">基于Gini指数的CART模型</h1>
<p>​ 基尼指数与熵的概念类似。如果一个数据集<span class="math inline">\(D\)</span>包含来自<span class="math inline">\(n\)</span>个类的样本，那么基尼指数，<span class="math inline">\(gini(D)\)</span>定义如下： <span class="math display">\[
gini(D)=\displaystyle\sum\limits_{j=1}^{n}p_j(1-p_j)=1-\displaystyle\sum\limits_{j=1}^{n}p_j^2
\]</span> 其中<span class="math inline">\(p_j\)</span>是类<span class="math inline">\(j\)</span>在数据集<span class="math inline">\(D\)</span>出现的频率。该公式用于计算深度为1的树的基尼指数：</p>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91/a.svg">

</div>
<p>​ 如果要计算深度大于1的树的基尼指数，比如下图</p>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91/b.svg">

</div>
<p>则 <span class="math display">\[
gini{split}(D)=\displaystyle\sum\limits{x_i\in X}p(x_i)\cdot gini(D_i)
\]</span> 在选取属性来分裂节点（加深树）时，选取使得<span class="math inline">\(gini_{split}(D)\)</span> 最小的属性进行分裂（对每个属性，需要遍历所有可能的分裂位置点）。</p>
<h1 id="剪枝">剪枝</h1>
<h1 id="随机森林">随机森林</h1>
<h1 id="应用决策树做分类">应用决策树做分类</h1>
<h1 id="应用决策树做回归">应用决策树做回归</h1>
<h1 id="others">Others</h1>
<p>每一个样本都是特征空间中的一个点，构建决策树的过程其实就是划分特征空间的过程。</p>
<p>假设有<span class="math inline">\(n\)</span>个特征，每个特征取值可能个数为<span class="math inline">\(m_i\)</span>，一棵完全的决策树将特征空间划分为 <span class="math inline">\(\displaystyle\prod\limits_{i=1}^{n}m_i\)</span> 个区域（一棵不完全的/剪枝的决策树划分出来的区域数量则少一些），对于区域<span class="math inline">\(j\)</span>，统计落在区域<span class="math inline">\(j\)</span>中样本数量与种类，通过投票决定该区域的标签。</p>
<p>划分区域的过程可以称为决策树的结构学习（决策树是否加深？加深的话选择哪个属性？），决定各区域标签的过程可以称为决策树的参数学习。</p>
<p>通过这两个过程就可以得到决策树的模型，然后通过该模型就可以进行分类任务了。</p>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%86%B3%E7%AD%96%E6%A0%91/markdown-img-paste-20190109184222663.png">

</div>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ryan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/" itemprop="url">搜索算法基础</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-01T17:47:59+08:00">
                2020-06-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">搜索算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="搜索算法">搜索算法</h2>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/markdown-img-paste-20190104201100759.png">

</div>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/markdown-img-paste-2019010510263152.png">

</div>
<h2 id="搜索算法的性能">搜索算法的性能</h2>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/markdown-img-paste-20190105102012872.png">

</div>
<h2 id="树搜索与图搜索">树搜索与图搜索</h2>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/markdown-img-paste-20190105101116333.png">

</div>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/markdown-img-paste-20190104203645524.png">

</div>
<h2 id="环检测">环检测</h2>
<h3 id="是什么">是什么</h3>
<p>环检测将图搜索转换为树搜索？</p>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/markdown-img-paste-20190105092832253.png">

</div>
<h3 id="环检测--单路经检测">环检测--单路经检测</h3>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/markdown-img-paste-2019010421172556.png">

</div>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/markdown-img-paste-20190104211856900.png">

</div>
<h3 id="环检测--多路路径检测">环检测--多路路径检测</h3>
<p>其实就是我们正常使用BFS使用的visited数组</p>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/markdown-img-paste-20190104212003585.png">

</div>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/markdown-img-paste-2019010421202306.png">

</div>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/markdown-img-paste-20190104212028934.png">

</div>
<h3 id="环检测一致代价搜索dijkstra算法">环检测，一致代价搜索，dijkstra算法</h3>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/markdown-img-paste-20190104212336973.png">

</div>
<h3 id="环检测的空间复杂度">环检测的空间复杂度</h3>
<p>指数级别。</p>
<h2 id="各算法总结">各算法总结</h2>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/1.svg">

</div>
<h3 id="各算法是否使用环检测">各算法是否使用环检测</h3>
<table>
<thead>
<tr class="header">
<th>算法</th>
<th>能否使用环检测</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>BFS</td>
<td>√</td>
</tr>
<tr class="even">
<td>UFS</td>
<td>√</td>
</tr>
<tr class="odd">
<td>BS</td>
<td>√</td>
</tr>
<tr class="even">
<td>DFS</td>
<td>×</td>
</tr>
<tr class="odd">
<td>IDS</td>
<td>×</td>
</tr>
<tr class="even">
<td><span class="math inline">\(A^*\)</span></td>
<td>√</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(IDA^*\)</span></td>
<td>×</td>
</tr>
</tbody>
</table>
<h3 id="性能对比">性能对比</h3>
<div class="figure">
<img src="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E7%AE%97%E6%B3%95%E4%B8%8ELeetCode/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/markdown-img-paste-20190105094214297.png">

</div>
<p><span class="math inline">\(IDA^*\)</span> 和 <span class="math inline">\(IDS\)</span>的复杂度相近，<span class="math inline">\(A^*\)</span> 与 <span class="math inline">\(UCS\)</span>复杂度相近。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ryan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/3.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/" itemprop="url">线性回归</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-01T17:37:42+08:00">
                2020-06-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index">
                    <span itemprop="name">机器学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="线性回归模型">线性回归模型</h1>
<p>​ 给定数据集如下： <span class="math display">\[
T=\{(\boldsymbol{x}_1,y_1),(\boldsymbol{x}_2,y_2),\cdots,(\boldsymbol{x}_N,y_N)\}
\]</span> 线性回归模型比较简单，即是一个线性组合的形式 <span class="math display">\[
f(\boldsymbol{x})=\displaystyle\sum_{i=1}^{n}w_ix_i+b=\boldsymbol{w}\cdot\boldsymbol{x}+b
\]</span></p>
<h1 id="线性回归学习策略">线性回归学习策略</h1>
<p>​ 其损失函数为 <span class="math display">\[
E(\boldsymbol{w},b)=\displaystyle\sum_{i=1}^{N}(f(\boldsymbol{x}_i)-y_i)^2
\]</span> 为了求导方便，在前面加上一个系数<span class="math inline">\(\dfrac{1}{2}\)</span>，即令 <span class="math display">\[
E(\boldsymbol{w},b)=\dfrac{1}{2}\displaystyle\sum_{i=1}^{N}(f(\boldsymbol{x}_i)-y_i)^2
\]</span> 显然，参数<span class="math inline">\(\boldsymbol{w},b\)</span>应该使得损失函数最小，即 <span class="math display">\[
\begin{array}{rl}\boldsymbol{w}^*,b^*=&amp;\arg\min\limits_{\boldsymbol{w},b}\left\{E(\boldsymbol{w},b)\right\}\\=&amp; \arg\min\limits_{\boldsymbol{w},b}\left\{\dfrac{1}{2}\displaystyle\sum_{i=1}^{N}(f(\boldsymbol{x}_i)-y_i)^2\right\}\end{array}
\]</span></p>
<h1 id="线性回归算法">线性回归算法</h1>
<p>​ 对于线性回归来说，通过对误差函数求偏导是可以得到一个方程组的，但是求解起来基本是不可能的，因此使用梯度下降方法。</p>
<h2 id="梯度下降">梯度下降</h2>
<p>​ 曲面上沿着梯度的方向是函数值变化（增大）最快的方向，而我们希望求函数值减小最快的方向，因此在更新参数时使用参数当前值减去步长和导数的乘积，公式如下： <span class="math display">\[
\begin{array}{l}
\boldsymbol{w}\leftarrow\boldsymbol{w}-\alpha\nabla\boldsymbol{w}\\
b\leftarrow b-\alpha\nabla b
\end{array}
\]</span> ​ 梯度下降方法中，<span class="math inline">\(\nabla\boldsymbol{w},\nabla b\)</span>的求解公式如下： <span class="math display">\[
\begin{array}{l}
\nabla \boldsymbol{w} = \dfrac{\partial E(\boldsymbol{w},b)}{\partial \boldsymbol{w}} = \dfrac{\partial}{\partial \boldsymbol{w}}\left(\dfrac{1}{2}\sum_{i=1}^{N}(f(\boldsymbol{x_i}-y_i)^2)\right)\\
\nabla b = \dfrac{\partial E(\boldsymbol{w},b)}{\partial b} = \dfrac{\partial}{\partial b}\left(\dfrac{1}{2}\sum_{i=1}^{N}(f(\boldsymbol{x_i}-y_i)^2)\right)
\end{array}
\]</span> ​ 参数<span class="math inline">\(\boldsymbol{w},b\)</span>的每一次更新使用所有的样本，计算得到的是一个标准梯度，更新一次的幅度较大。样本不大的情况，收敛速度可以接受；但是若样本太大，收敛会很慢。</p>
<h2 id="批量梯度下降">批量梯度下降</h2>
<p>​ 每次使用训练数据中的一个样本更新，因而随机梯度下降是会带来一定的问题，因为计算得到的并不是准确的一个梯度，容易陷入到局部最优解中。一直不会收敛，只是在最小值附近波动。</p>
<h2 id="随机梯度下降">随机梯度下降</h2>
<p>​ 批量的梯度下降就是一种折中的方法，他用了一些小样本来近似全部的样本。即：每次更新参数<span class="math inline">\(\boldsymbol{w},b\)</span>使用一批样本。</p>
<h2 id="迭代过程中的步长设置">迭代过程中的步长设置</h2>
<p>步长<span class="math inline">\(\eta\)</span>的选取也是一个值得注意的问题。事实上，在梯度下降过程中，步长<span class="math inline">\(\eta\)</span>可以根据损失函数<span class="math inline">\(C(\boldsymbol{\tilde{w}})\)</span>的变化进行更改：如果<span class="math inline">\(C(\boldsymbol{\tilde{w}}^{(k+1)})&lt;C(\boldsymbol{\tilde{w}}^{(k)})\)</span>，那么说明步长<span class="math inline">\(\eta\)</span>可以适当增大，因为这时正在向<span class="math inline">\(C(\boldsymbol{\tilde{w}})\)</span>的极小值点逼近，通过增大步长可以加快收敛速度；如果<span class="math inline">\(C(\boldsymbol{\tilde{w}}^{(k+1)})&gt;C(\boldsymbol{\tilde{w}}^{(k)})\)</span>，那么说明正在远离极小值点，应当缩小步长使之重新靠近极小值点。</p>
<p>迭代终止条件可以有以下两种：①定义一个合理的阈值，当两次迭代之间的差值小于该阈值时，迭代结束。②设置一个大概的迭代步数，比如1000或500。</p>
<p>梯度下降法最终的迭代肯定会收敛，只要达到相应迭代次数，多了也没关系。因为迭代次数多了后，在到达极值点时，函数对变量的导数已近乎为0，即使过了极值点，导数就变为正数了，之前的导数为负数。这个时候，变量x的值减去步长与导数的乘积反倒变小了。所以即使步数多了，结果也基本上就在极值点处左右徘徊，几乎等于极值点，因此没有问题。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/5.NLP/NLP%E6%80%BB%E8%A7%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ryan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/01/6.%E7%AE%97%E6%B3%95%E5%B7%A5%E7%A8%8B%E5%B8%88/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/5.NLP/NLP%E6%80%BB%E8%A7%88/" itemprop="url">NLP总览</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-01T17:21:13+08:00">
                2020-06-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NLP/" itemprop="url" rel="index">
                    <span itemprop="name">NLP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/31/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ryan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/31/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/" itemprop="url">EA建模初步使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-31T21:12:03+08:00">
                2020-05-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UML/" itemprop="url" rel="index">
                    <span itemprop="name">UML</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UML/EA/" itemprop="url" rel="index">
                    <span itemprop="name">EA</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="新建一个项目">新建一个项目</h2>
<h3 id="模型向导">模型向导</h3>
<p><img src="/2020/05/31/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20200531222844900.png" alt="image-20200531222844900" style="zoom: 67%;"></p>
<ul>
<li>Use Case（用例图）: System behavior described with Use Cases and Actors.</li>
<li>Domain Model: Domain specific objects and their relationships.</li>
<li>Class（类图）: Type hierarchies, relationships and abstractions.</li>
<li>Component（组件）: Software artificates and components.</li>
<li>Deployment（部署）: Physical hardware, clients and network topologies.</li>
</ul>
<h3 id="toolbox">ToolBox</h3>
<p><img src="/2020/05/31/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20200531233808738.png" alt="image-20200531233808738" style="zoom:80%;"></p>
<p>通过工具箱添加内容，从更多的工具中选取其他的工具，例如profile</p>
<h2 id="create-a-profile-package">Create a Profile Package</h2>
<blockquote>
<p>Profiles将stereotypes、tagged values(标记值)和constraints(约束)应用于具体的模型元素比如类、属性、操作和活动。一个Profile对象就是一系列为特定领域(比如，航空航天、保健、金融)或平台(J2EE、.NET)自定义的UML集合。</p>
<p><strong>profile 作用</strong>：帮助你分析并发现程序运行的瓶颈，找到耗时所在，同时也能帮助你发现不会被执行的代码。从而最终实现程序的优化。</p>
</blockquote>
<p><a href="https://www.uml-diagrams.org/profile.html" target="_blank" rel="noopener">UML Profile</a></p>
<p><a href="https://sparxsystems.com/enterprise_architect_user_guide/14.0/modeling_tools/createprofile.html" target="_blank" rel="noopener">Create a Profile Package</a></p>
<p>在包中新建Package diagram：</p>
<div class="figure">
<img src="/2020/05/31/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20200601140344602.png" alt="image-20200601140344602">
<p class="caption">image-20200601140344602</p>
</div>
<div class="figure">
<img src="/2020/05/31/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20200601140211450.png" alt="image-20200601140211450">
<p class="caption">image-20200601140211450</p>
</div>
<p>建完后，FirstPackage目录下的Class Model内容如下：</p>
<div class="figure">
<img src="/2020/05/31/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20200601140652981.png" alt="image-20200601140652981">
<p class="caption">image-20200601140652981</p>
</div>
<p>然后可以在新建的profile中建模：</p>
<div class="figure">
<img src="/2020/05/31/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20200601140329778.png" alt="image-20200601140329778">
<p class="caption">image-20200601140329778</p>
</div>
<h2 id="add-metaclasses-and-stereotypes-to-a-profile">Add Metaclasses and Stereotypes to a Profile</h2>
<p><a href="https://sparxsystems.com/enterprise_architect_user_guide/14.0/modeling_tools/addingelementsandmetaclass.html" target="_blank" rel="noopener">Add Stereotypes and Metaclasses</a></p>
<p><a href="https://www.uml-diagrams.org/stereotype.html" target="_blank" rel="noopener">UML Stereotype</a></p>
<p><a href="https://www.uml-diagrams.org/profile-metaclass.html" target="_blank" rel="noopener">UML Profile Metaclass</a></p>
<p>When you are extending the UML to develop a domain-specific toolset, you start by creating a Profile Package for the stereotypes you intend to customize. This Package has at least one child Class diagram, and it is on this child diagram that you specify:</p>
<ul>
<li>The types of object that you are extending, represented by Metaclass elements, and</li>
<li>The way in which each object is extended, represented by Stereotype elements</li>
</ul>
<p>You can qualify the effect of a Stereotype on a Metaclass using a range of other tools, including:</p>
<ul>
<li>Shape Scripts in the Stereotype</li>
<li><strong>Tagged Values</strong>, defined by attributes in the Stereotype element</li>
<li>Structured <strong>Tagged Value</strong> Classes, defined using attributes in the Stereotype element</li>
<li>Enumerations, defined using attributes in the Stereotype element</li>
<li>Tagged Value connectors, to identify possible values for a Tagged Value in an element generated with a Stereotype</li>
<li>Constraints on the Stereotype element</li>
<li>Special attributes, that define specific default behavior of stereotyped elements, such as the initial size and color of the element</li>
<li>Modifying the default appearance of the Stereotype element</li>
</ul>
<p>一个MetaClass与Stereotype的例子：</p>
<p><img src="/2020/05/31/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20200601150015744.png" alt="image-20200601150015744" style="zoom:67%;"></p>
<h2 id="define-stereotype-tagged-values">Define Stereotype Tagged Values</h2>
<p><a href="https://sparxsystems.com/enterprise_architect_user_guide/14.0/modeling_tools/definestereotypetags.html" target="_blank" rel="noopener">Define Stereotype Tagged Values</a></p>
<p>向构造型中添加属性，操作方式如下（或者先选中Stereotype然后按F9）：</p>
<p><img src="/2020/05/31/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20200601150918319.png" alt="image-20200601150918319" style="zoom:80%;"></p>
<p><img src="/2020/05/31/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20200601151146745.png" alt="image-20200601151146745" style="zoom: 67%;"></p>
<p>添加完毕后：</p>
<div class="figure">
<img src="/2020/05/31/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20200601151232801.png" alt="image-20200601151232801">
<p class="caption">image-20200601151232801</p>
</div>
<h2 id="add-shape-scripts">Add Shape Scripts</h2>
<p><a href="https://sparxsystems.com/enterprise_architect_user_guide/14.0/modeling_tools/add_shape_scripts_to_uml_profi.html" target="_blank" rel="noopener">Add Shape Scripts</a></p>
<p><a href="https://sparxsystems.com/enterprise_architect_user_guide/14.0/modeling_tools/shape_editor_2.html" target="_blank" rel="noopener">Shape Scripts</a></p>
<p><img src="/2020/05/31/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1/EA%E5%BB%BA%E6%A8%A1%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/image-20200601152810544.png" alt="image-20200601152810544" style="zoom: 67%;"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/27/5.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88/Qt/ArcGIS/%E5%9F%BA%E4%BA%8EArcGIS%E7%9A%84%E5%9C%B0%E5%9B%BE%E5%B0%8F%E7%A8%8B%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ryan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/27/5.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88/Qt/ArcGIS/%E5%9F%BA%E4%BA%8EArcGIS%E7%9A%84%E5%9C%B0%E5%9B%BE%E5%B0%8F%E7%A8%8B%E5%BA%8F/" itemprop="url">基于ArcGIS的地图小程序</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-27T23:20:21+08:00">
                2020-05-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Qt/" itemprop="url" rel="index">
                    <span itemprop="name">Qt</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Qt/%E7%BC%96%E7%A8%8B%E7%A4%BA%E4%BE%8B/" itemprop="url" rel="index">
                    <span itemprop="name">编程示例</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Qt/%E7%BC%96%E7%A8%8B%E7%A4%BA%E4%BE%8B/ArcGIS/" itemprop="url" rel="index">
                    <span itemprop="name">ArcGIS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="最终效果">最终效果</h2>
<div class="figure">
<img src="/2020/05/27/5.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88/Qt/ArcGIS/%E5%9F%BA%E4%BA%8EArcGIS%E7%9A%84%E5%9C%B0%E5%9B%BE%E5%B0%8F%E7%A8%8B%E5%BA%8F/demo.gif" alt="demo">
<p class="caption">demo</p>
</div>
<h2 id="加载地图">加载地图</h2>
<figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">Map</span> &#123;</span><br><span class="line">	<span class="attribute">id:</span><span class="string"> map</span></span><br><span class="line">    <span class="comment">// set the basemap</span></span><br><span class="line">    <span class="title">Basemap</span> &#123;</span><br><span class="line">    	<span class="title">RasterLayer</span> &#123;</span><br><span class="line">        	<span class="title">Raster</span> &#123;</span><br><span class="line">            	<span class="attribute">path</span>: <span class="string">"file:///G:/Qt/map/map_file/地图_墨卡托坐标系.tif"</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="map">Map</h3>
<p><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-map.html" target="_blank" rel="noopener">Map QML Type</a></p>
<blockquote>
<p>A map represents the model in an MVC architecture and a map view represents the view. A map specifies how the geographic data is organized, and a map view renders the data and allows users to interact with it.</p>
<p>A map derives its geographic content from its basemap and operational layers. A basemap provides a geographical context for the content you want to display on the map. It is a background locational reference where you can overlay your operational layers. The basemap content is typically geographic features that do not change frequently, such as streets, parcel boundaries, or rivers. Operational layers provide application content for the task at hand. Their content might change frequently with updates from earthquake, traffic, or weather reports.</p>
<p>The map has a spatial reference that specifies how the geographic content from its basemap and operational layers are aligned when combined together. The first layer that is added to the map will set the spatial reference.</p>
<p>Once the map's spatial reference is set, it cannot be changed, even by changing the basemap.</p>
<p>You can initialize the map in several different ways: creating from an <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-arcgisitem.html" target="_blank" rel="noopener">ArcGISItem</a> (a web map); a URL to a <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-arcgisitem.html#portalitem" target="_blank" rel="noopener">PortalItem</a>, creating from a basemap (either your own, or an Esri-provided basemap); or by defining the spatial reference. Each method of initialization is mutually exclusive. For example, you should not set both the item and <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-map.html#basemap-prop" target="_blank" rel="noopener">basemap</a> properties. Doing so will print a warning message at the console.</p>
<p>In the event that any combination of <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-map.html#item-prop" target="_blank" rel="noopener">item</a>, <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-map.html#initUrl-prop" target="_blank" rel="noopener">initUrl</a>, <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-map.html#basemap-prop" target="_blank" rel="noopener">basemap</a>, and <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-map.html#spatialReference-prop" target="_blank" rel="noopener">spatialReference</a> properties are set when the map initializes, the software chooses how to initialize the map depending on which properties are set. The precedence order for these properties is as follows.</p>
<ul>
<li>1: <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-map.html#item-prop" target="_blank" rel="noopener">item</a></li>
<li>2: <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-map.html#initUrl-prop" target="_blank" rel="noopener">initUrl</a></li>
<li>3: <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-map.html#basemap-prop" target="_blank" rel="noopener">basemap</a></li>
<li>4: <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-map.html#spatialReference-prop" target="_blank" rel="noopener">spatialReference</a></li>
</ul>
<p>The <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-map.html#spatialReference-prop" target="_blank" rel="noopener">spatialReference</a>, <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-map.html#initUrl-prop" target="_blank" rel="noopener">initUrl</a> and <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-map.html#item-prop" target="_blank" rel="noopener">item</a> properties can only be set at map initialization time. For example, if a map is created using a basemap, and later the item property is set in a JavaScript function, nothing will happen because the map was already initialized with the basemap.</p>
</blockquote>
<h3 id="rasterlayer">RasterLayer</h3>
<p><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-rasterlayer.html" target="_blank" rel="noopener">RasterLayer QML Type</a></p>
<blockquote>
<p>A <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-rasterlayer.html" target="_blank" rel="noopener">RasterLayer</a> is used to render data from a <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-raster.html" target="_blank" rel="noopener">Raster</a> onto a Map.</p>
</blockquote>
<h3 id="raster">Raster</h3>
<p><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-raster.html" target="_blank" rel="noopener">Raster QML Type</a></p>
<blockquote>
<p>A raster consists of a matrix of cells (or pixels) organized into rows and columns (or a grid) where each cell contains a value representing information, such as temperature. Rasters are digital aerial photographs, imagery from satellites, digital pictures, or even scanned maps.</p>
<p>It can be created from a raster file on device or from a raster function.</p>
<p>Supported Raster formats include:</p>
<ul>
<li>ASRP/USRP</li>
<li>CIB1, 5, 10</li>
<li>DTED0, 1, 2</li>
<li>GeoTIFF</li>
<li>HFA</li>
<li>HRE</li>
<li>IMG</li>
<li>JPEG</li>
<li>JPEG 2000</li>
<li>NITF</li>
<li>PNG</li>
<li>RPF</li>
<li>SRTM1, 2</li>
<li>Mosaic Dataset in SQLite (read-only)</li>
</ul>
<p>Learn more about rasters from the <a href="http://links.esri.com/qt/rasters" target="_blank" rel="noopener">ArcGIS Desktop documentation</a>.</p>
</blockquote>
<h2 id="标记">标记</h2>
<figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">GraphicsOverlay</span> &#123;</span><br><span class="line">    <span class="attribute">id:</span><span class="string"> graphicsOverlay</span></span><br><span class="line">    <span class="comment">// assign a render to the graphics overlay</span></span><br><span class="line">    <span class="title">SimpleRenderer</span> &#123;</span><br><span class="line">        <span class="title">SimpleMarkerSymbol</span> &#123;</span><br><span class="line">            <span class="attribute">style</span>: Enums.SimpleMarkerSymbolStyleX</span><br><span class="line">            <span class="attribute">color</span>: Qt.rgba(<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>)</span><br><span class="line">            <span class="attribute">size</span>: <span class="number">15.0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title">Graphic</span> &#123;</span><br><span class="line">        <span class="attribute">id:</span><span class="string"> locationGraphic</span></span><br><span class="line">        <span class="title">Point</span> &#123;</span><br><span class="line">            <span class="attribute">x</span>: <span class="number">-117.195</span></span><br><span class="line">            <span class="attribute">y</span>: <span class="number">34.056195</span></span><br><span class="line">            <span class="title">SpatialReference</span> &#123;</span><br><span class="line">                <span class="attribute">wkid</span>: <span class="number">4326</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attribute">onComponentCompleted</span>: &#123;</span><br><span class="line">            setTextFromPoint(locationGraphic.geometry);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="graphicsoverlay">GraphicsOverlay</h3>
<p><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-graphicsoverlay.html" target="_blank" rel="noopener">GraphicsOverlay QML Type</a></p>
<blockquote>
<p>Graphics may represent temporary data in your application, such as the results of a query or an analysis, or may be used to highlight existing content in the map.</p>
<p>Each graphic contains a geometry describing the location and the shape of the graphic. A graphics overlay typically contains graphics based on a single geometry type (Point, Multipoint, Polyline, or Polygon). Each graphic can be associated with a symbol which controls how the graphic looks. Alternatively, the overlay can be associated with a renderer which manages the appearance of all the graphics in the overlay that do not have specific symbols associate with each of them.</p>
</blockquote>
<h3 id="simplerenderer">SimpleRenderer</h3>
<p><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-simplerenderer.html" target="_blank" rel="noopener">SimpleRenderer QML Type</a></p>
<blockquote>
<p>Simple renderers symbolize all graphics in a graphics overlay or features in a feature layer according to a given scheme. Simple renderers use a simple scheme, meaning the same symbol is used for all graphics and features, regardless of their attribute values.</p>
</blockquote>
<h3 id="simplemarkersymbol">SimpleMarkerSymbol</h3>
<p><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-simplemarkersymbol.html" target="_blank" rel="noopener">SimpleMarkerSymbol QML Type</a></p>
<blockquote>
<p>Symbols describe how graphics and features look on a map. Different symbols are used with different geometry types. Instances of this type represent simple marker symbols. Marker symbols are used to display those graphics and features which are based on point or multipoint geometry. Simple marker symbols display simple, predefined markers such as circle, cross, and so on. In addition, the markers can have an optional outline, which is defined by a line symbol.</p>
</blockquote>
<h3 id="graphic">Graphic</h3>
<p><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-graphic.html" target="_blank" rel="noopener">Graphic QML Type</a></p>
<blockquote>
<p>Graphics are displayed on the map through a graphics overlay. Common uses of graphics include providing input to a task, displaying output from a task, or <strong>marking a location based on user interaction with the map</strong>.</p>
<p>Each graphic must contain a geometry describing the location and the shape of the graphic. The geometry preferably should be in the same spatial reference as the map, otherwise it will be reprojected on-the-fly (computationally expensive for large number of graphics).</p>
<p>A graphic can be associated with a symbol which determines how the graphic looks. Alternatively, the graphics overlay can be assigned a renderer which determines the appearance of all graphics in the overlay. If the graphic has an associated symbol, that symbol will override the renderer when displaying that graphic. The symbol used depends upon the geometry type associated with the graphic. A <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-markersymbol.html" target="_blank" rel="noopener">MarkerSymbol</a> is used for point and multipoint geometries, <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-linesymbol.html" target="_blank" rel="noopener">LineSymbol</a> for polyline geometries, and <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-fillsymbol.html" target="_blank" rel="noopener">FillSymbol</a> for polygon geometries.</p>
<p>A graphic can contain a list model of attributes (key-value pairs) providing more information about the graphic.</p>
</blockquote>
<p>Properties：</p>
<ul>
<li><strong><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-graphic.html#attributes-prop" target="_blank" rel="noopener">attributes</a></strong> : AttributeListModel</li>
<li><strong><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-graphic.html#geometry-prop" target="_blank" rel="noopener">geometry</a></strong> : Geometry</li>
<li><strong><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-graphic.html#graphicsOverlay-prop" target="_blank" rel="noopener">graphicsOverlay</a></strong> : GraphicsOverlay</li>
<li><strong><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-graphic.html#selected-prop" target="_blank" rel="noopener">selected</a></strong> : bool</li>
<li><strong><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-graphic.html#symbol-prop" target="_blank" rel="noopener">symbol</a></strong> : Symbol</li>
<li><strong><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-graphic.html#visible-prop" target="_blank" rel="noopener">visible</a></strong> : bool</li>
<li><strong><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-graphic.html#zIndex-prop" target="_blank" rel="noopener">zIndex</a></strong> : int</li>
</ul>
<h3 id="geometry">Geometry</h3>
<p><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-geometry.html" target="_blank" rel="noopener">Geometry QML Type</a></p>
<blockquote>
<p><strong>Note:</strong> You cannot declare or create a component of this type in QML code.</p>
<p>This type is the base type for two-dimensional (x,y) or three-dimensional (x,y,z) geometries such as Point and Polyline objects. Objects that inherit from the Geometry type may also include an m (measure) value for each vertex.</p>
<p>Geometries are used throughout the API, for example to define the shape of a feature or graphic, the extent of a layer, or as inputs and outputs of different types of task.</p>
</blockquote>
<h3 id="point">Point</h3>
<p><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-point.html" target="_blank" rel="noopener">Point QML Type</a></p>
<blockquote>
<p>Points can optionally have z (height) and m (measure) attributes.</p>
<p>If the <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-spatialreference.html" target="_blank" rel="noopener">SpatialReference</a> is a geographic coordinate system, the x-coordinate defines <strong>longitude</strong> and the y-coordinate defines <strong>latitude</strong>.</p>
<p>Point is immutable. Instead of changing the properties of an existing Point, create new Point instances, or use <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-pointbuilder.html" target="_blank" rel="noopener">PointBuilder</a>.</p>
<p><strong>Points can be used as the Geometry of a Feature.</strong></p>
</blockquote>
<h3 id="spatialreference">SpatialReference</h3>
<p><a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-spatialreference.html" target="_blank" rel="noopener">SpatialReference QML Type</a></p>
<blockquote>
<p>Instances of this type represent a specific coordinate system, identified by a well-known ID (WKID) number or well-known text (WKT) string. SpatialReferences are immutable.</p>
<p>SpatialReferences allow disparate spatial data to be consistently viewed and analyzed together. Geometry, Layer, and <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-graphicsoverlay.html" target="_blank" rel="noopener">GraphicsOverlay</a> types have a <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-spatialreference.html" target="_blank" rel="noopener">SpatialReference</a> that determines the system in which the data is stored, and the <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-spatialreference.html" target="_blank" rel="noopener">SpatialReference</a> of each <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-geoview.html" target="_blank" rel="noopener">GeoView</a> determines how it displays the data it contains. There are two main categories of coordinate system that can be represented by a <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-spatialreference.html" target="_blank" rel="noopener">SpatialReference</a>:</p>
<ul>
<li>Geographic coordinate systems use a three-dimensional spherical surface to define locations on the earth. Coordinates are defined using angular units such as degrees.</li>
<li>Projected coordinate systems use flat, two-dimensional surface to define locations on the earth. Coordinates are defined using linear units such as meters or miles.</li>
</ul>
<p>In some cases, more than one WKID value refer to the same spatial reference. For example, 3857 and 102100 both refer to WGS 1984 Web Mercator (Auxiliary Sphere). There can also be subtle differences between two WKT strings that that represent the same spatial reference. To mitigate this situation, the <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-spatialreference.html" target="_blank" rel="noopener">SpatialReference</a> type provides spatial reference comparison methods.</p>
<p>Use the create method to create a <a href="https://developers.arcgis.com/qt/latest/qml/api-reference/qml-esri-arcgisruntime-spatialreference.html" target="_blank" rel="noopener">SpatialReference</a> by specifying the WKID of a coordinate system, or use the members of SpatialReferences to return instances of the most commonly used SpatialReferences.</p>
<p>See <a href="http://resources.arcgis.com/en/help/arcgis-rest-api/index.html#/Projected_coordinate_systems/02r3000000vt000000/" target="_blank" rel="noopener">Projected Coordinate Systems</a> and <a href="http://resources.arcgis.com/en/help/arcgis-rest-api/index.html#/Geographic_coordinate_systems/02r300000105000000/" target="_blank" rel="noopener">Geographic Coordinate Systems</a> for the list of supported spatial references and their corresponding definition strings.</p>
</blockquote>
<h2 id="other-references">Other References</h2>
<ul>
<li><a href="https://developers.arcgis.com/qt/latest/qml/guide/add-raster-data.htm" target="_blank" rel="noopener">Add raster data</a></li>
<li><a href="https://developers.arcgis.com/qt/latest/qml/sample-code/format-coordinates/" target="_blank" rel="noopener">Format coordinates</a></li>
</ul>
<h2 id="代码实现">代码实现</h2>
<figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">Rectangle</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">800</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">800</span></span><br><span class="line">    </span><br><span class="line">    readonly <span class="keyword">property</span><span class="string"> int labelWidth</span>: <span class="number">100</span></span><br><span class="line">    readonly <span class="keyword">property</span><span class="string"> int coordinateTextWidth</span>: <span class="number">200</span></span><br><span class="line">    readonly <span class="keyword">property</span><span class="string"> int fontPixelSize</span>: <span class="number">14</span></span><br><span class="line">    readonly <span class="keyword">property</span><span class="string"> int textPadding</span>: <span class="number">4</span></span><br><span class="line">    readonly <span class="keyword">property</span><span class="string"> string strDecimalDegrees</span>: qsTr(<span class="string">"Degrees"</span>)</span><br><span class="line">    readonly <span class="keyword">property</span><span class="string"> string strDegreesMinutesSeconds</span>: qsTr(<span class="string">"DMS"</span>)</span><br><span class="line">    <span class="keyword">property</span><span class="string"> string labelSuffix</span>: <span class="string">":  "</span></span><br><span class="line"></span><br><span class="line">    <span class="title">MapView</span> &#123;</span><br><span class="line">        <span class="attribute">id:</span><span class="string"> mapView</span></span><br><span class="line"></span><br><span class="line">        <span class="title">anchors</span> &#123;</span><br><span class="line">            <span class="attribute">top</span>: <span class="built_in">parent</span>.top</span><br><span class="line">            <span class="attribute">left</span>: <span class="built_in">parent</span>.left</span><br><span class="line">            <span class="attribute">right</span>: <span class="built_in">parent</span>.right</span><br><span class="line">            <span class="attribute">bottom</span>: formatRect.top</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title">Map</span> &#123;</span><br><span class="line">            <span class="attribute">id:</span><span class="string"> map</span></span><br><span class="line">            <span class="comment">// set the basemap</span></span><br><span class="line">            <span class="title">Basemap</span> &#123;</span><br><span class="line">                <span class="title">RasterLayer</span> &#123;</span><br><span class="line">                   <span class="title">Raster</span> &#123;</span><br><span class="line">                       <span class="attribute">path</span>: <span class="string">"file:///G:/Qt/map/map_file/地图_墨卡托坐标系.tif"</span></span><br><span class="line">                   &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Add a graphics overlay to the map view</span></span><br><span class="line">        <span class="title">GraphicsOverlay</span> &#123;</span><br><span class="line">            <span class="attribute">id:</span><span class="string"> graphicsOverlay</span></span><br><span class="line">            <span class="comment">// assign a render to the graphics overlay</span></span><br><span class="line">            <span class="title">SimpleRenderer</span> &#123;</span><br><span class="line">                <span class="title">SimpleMarkerSymbol</span> &#123;</span><br><span class="line">                    <span class="attribute">style</span>: Enums.SimpleMarkerSymbolStyleX</span><br><span class="line">                    <span class="attribute">color</span>: Qt.rgba(<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>)</span><br><span class="line">                    <span class="attribute">size</span>: <span class="number">15.0</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="title">Graphic</span> &#123;</span><br><span class="line">                <span class="attribute">id:</span><span class="string"> locationGraphic</span></span><br><span class="line">                <span class="title">Point</span> &#123;</span><br><span class="line">                    <span class="attribute">x</span>: <span class="number">12148289.779419606551528</span></span><br><span class="line">                    <span class="attribute">y</span>: <span class="number">2081791.129232412204146</span></span><br><span class="line">                    <span class="title">SpatialReference</span> &#123;</span><br><span class="line">                        <span class="attribute">wkid</span>: <span class="number">3857</span>  <span class="comment">// Web墨卡托坐标系</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="attribute">onComponentCompleted</span>: &#123;</span><br><span class="line">                    setTextFromPoint(locationGraphic.geometry);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">onMouseClicked</span>: &#123;  <span class="comment">// on MapView</span></span><br><span class="line">            handleLocationUpdate(mouse.mapPoint);   </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title">Rectangle</span> &#123;</span><br><span class="line">        <span class="attribute">id:</span><span class="string"> formatRect</span></span><br><span class="line">        <span class="title">anchors</span> &#123;</span><br><span class="line">            <span class="attribute">left</span>: <span class="built_in">parent</span>.left</span><br><span class="line">            <span class="attribute">bottom</span>: <span class="built_in">parent</span>.bottom</span><br><span class="line">            <span class="attribute">right</span>: <span class="built_in">parent</span>.right</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attribute">height</span>: childrenRect.height</span><br><span class="line"></span><br><span class="line">        <span class="title">GridLayout</span> &#123;</span><br><span class="line">            <span class="attribute">columns</span>: <span class="number">2</span></span><br><span class="line">            <span class="attribute">width</span>: <span class="built_in">parent</span>.width</span><br><span class="line">            <span class="title">Text</span> &#123;</span><br><span class="line">                <span class="attribute">id:</span><span class="string"> labelDD</span></span><br><span class="line">                <span class="attribute">font.pixelSize</span>: fontPixelSize</span><br><span class="line">                <span class="attribute">padding</span>: textPadding</span><br><span class="line">                <span class="attribute">horizontalAlignment</span>: Text.AlignRight</span><br><span class="line">                <span class="attribute">text</span>: strDecimalDegrees + labelSuffix</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="title">TextField</span> &#123;</span><br><span class="line">                <span class="attribute">id:</span><span class="string"> textDD</span></span><br><span class="line">                <span class="attribute">font.pixelSize</span>: fontPixelSize</span><br><span class="line">                <span class="attribute">text</span>: coordinatesInDD.length === <span class="number">0</span> ? <span class="string">"invalid point"</span> : coordinatesInDD</span><br><span class="line">                <span class="attribute">Layout.fillWidth</span>: <span class="literal">true</span></span><br><span class="line">                <span class="attribute">onAccepted</span>: &#123;</span><br><span class="line">                    handleTextUpdate(strDecimalDegrees, text);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="title">Text</span> &#123;</span><br><span class="line">                <span class="attribute">id:</span><span class="string"> labelDMS</span></span><br><span class="line">                <span class="attribute">font.pixelSize</span>: fontPixelSize</span><br><span class="line">                <span class="attribute">padding</span>: textPadding</span><br><span class="line">                <span class="attribute">horizontalAlignment</span>: Text.AlignRight</span><br><span class="line">                <span class="attribute">text</span>: strDegreesMinutesSeconds + labelSuffix</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="title">TextField</span> &#123;</span><br><span class="line">                <span class="attribute">id:</span><span class="string"> textDMS</span></span><br><span class="line">                <span class="attribute">font.pixelSize</span>: fontPixelSize</span><br><span class="line">                <span class="attribute">text</span>: coordinatesInDMS.length === <span class="number">0</span> ? <span class="string">"invalid point"</span> : coordinatesInDMS</span><br><span class="line">                <span class="attribute">Layout.fillWidth</span>: <span class="literal">true</span></span><br><span class="line">                <span class="attribute">onAccepted</span>: &#123;</span><br><span class="line">                    handleTextUpdate(strDegreesMinutesSeconds, text);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">handleLocationUpdate</span>(<span class="params">point</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">point</span>.isEmpty)</span><br><span class="line">        &#123;</span><br><span class="line">            locationGraphic.geometry = <span class="built_in">point</span>;</span><br><span class="line">            setTextFromPoint(<span class="built_in">point</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">setTextFromPoint</span>(<span class="params">point</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">point</span>.isEmpty) <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">//! [FormatCoordinates CoordinateFormatter point to text]</span></span><br><span class="line">        <span class="keyword">var</span> decimalPlaces = <span class="number">6</span>;</span><br><span class="line">        textDD.text   = CoordinateFormatter.toLatitudeLongitude(</span><br><span class="line">                    <span class="built_in">point</span>, Enums.LatitudeLongitudeFormatDecimalDegrees, decimalPlaces);</span><br><span class="line">        textDMS.text  = CoordinateFormatter.toLatitudeLongitude(</span><br><span class="line">                    <span class="built_in">point</span>, Enums.LatitudeLongitudeFormatDegreesMinutesSeconds, decimalPlaces);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// check for invalid points and update the text boxes</span></span><br><span class="line">        textDD.text = textDD.text.length === <span class="number">0</span>? <span class="string">"invalid point"</span>: textDD.text;</span><br><span class="line">        textDMS.text = textDMS.text.length === <span class="number">0</span>? <span class="string">"invalid point"</span>: textDMS.text;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">handleTextUpdate</span>(<span class="params">textType, text</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> <span class="built_in">point</span> = createPointFromText(textType, text);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">point</span>)</span><br><span class="line">            handleLocationUpdate(<span class="built_in">point</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">createPointFromText</span>(<span class="params">textType, text</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//! [FormatCoordinates CoordinateFormatter text to point]</span></span><br><span class="line">        <span class="keyword">return</span> CoordinateFormatter.fromLatitudeLongitude(text, map.spatialReference);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/25/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/UML%E5%BB%BA%E6%A8%A1%E5%9F%BA%E6%9C%AC%E4%BA%86%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ryan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/25/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/UML%E5%BB%BA%E6%A8%A1%E5%9F%BA%E6%9C%AC%E4%BA%86%E8%A7%A3/" itemprop="url">UML建模基本了解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-25T11:22:05+08:00">
                2020-05-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UML/" itemprop="url" rel="index">
                    <span itemprop="name">UML</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="简介">简介</h2>
<p>Unified Modeling Language (UML)又称统一建模语言或标准建模语言，是始于1997年一个OMG标准，它是一个支持模型化和软件系统开发的图形化语言，为软件开发的所有阶段提供模型化和可视化支持，包括由需求分析到规格，到构造和配置。 面向对象的分析与设计(OOA&amp;D，OOAD)方法的发展在80年代末至90年代中出现了一个高潮，UML是这个高潮的产物。它不仅统一了Booch、Rumbaugh和Jacobson的表示方法，而且对其作了进一步的发展，并最终统一为大众所接受的标准建模语言。Grady Booch的描述对象集合和它们之间的关系的方法。James Rumbaugh的对象建模技术（OMT）。Ivar Jacobson的包括用例方法的方式。还有其他一些想法也对UML起到了作用，UML是Booch, Rumbaugh, Jacobson。UML已经被对象管理组织（OMG）接受为标准，这个组织还制定了通用对象请求代理体系结构（CORBA），是分布式对象编程行业的领头羊。计算机辅助软件工程（CASE）产品的供应商也支持UML，并且它基本上已经被所有的软件开发产品制造商所认可，这其中包括IBM和微软(用于它的VB环境)。UML规范用来描述建模的概念有，类（对象的）、对象、关联、职责、行为、接口、用例、包、顺序、协作，以及状态。</p>
<h2 id="uml-diagram-types">14 UML Diagram Types</h2>
<p><a href="https://creately.com/blog/diagrams/uml-diagram-types-examples/" target="_blank" rel="noopener">UML Diagram Types Guide: Learn About All Types of UML Diagrams with Examples</a></p>
<p><a href="https://www.uml-diagrams.org/uml-25-diagrams.html" target="_blank" rel="noopener">UML 2.5 Diagrams Overview</a></p>
<div class="figure">
<img src="/2020/05/25/3.%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/UML%E5%BB%BA%E6%A8%A1/UML%E5%BB%BA%E6%A8%A1%E5%9F%BA%E6%9C%AC%E4%BA%86%E8%A7%A3/uml-25-diagrams.png" alt="UML 2.5 Diagrams Taxonomy.">
<p class="caption">UML 2.5 Diagrams Taxonomy.</p>
</div>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/23/5.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88/Qt/%E7%BC%96%E7%A8%8B%E7%A4%BA%E4%BE%8B/%E5%B0%86%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84cpp%E7%B1%BB%E5%9E%8B%E6%B3%A8%E5%86%8C%E5%88%B0qml%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9F%E4%B8%AD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ryan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/23/5.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88/Qt/%E7%BC%96%E7%A8%8B%E7%A4%BA%E4%BE%8B/%E5%B0%86%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84cpp%E7%B1%BB%E5%9E%8B%E6%B3%A8%E5%86%8C%E5%88%B0qml%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9F%E4%B8%AD/" itemprop="url">将自定义的cpp类型注册到qml类型系统中</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-23T16:57:24+08:00">
                2020-05-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Qt/" itemprop="url" rel="index">
                    <span itemprop="name">Qt</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Qt/%E7%BC%96%E7%A8%8B%E7%A4%BA%E4%BE%8B/" itemprop="url" rel="index">
                    <span itemprop="name">编程示例</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Qt/%E7%BC%96%E7%A8%8B%E7%A4%BA%E4%BE%8B/%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" itemprop="url" rel="index">
                    <span itemprop="name">基本使用</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="registering-c-types-with-the-qml-type-system">Registering C++ Types with the QML Type System</h2>
<p>A <a href="https://doc.qt.io/qt-5/qobject.html" target="_blank" rel="noopener">QObject</a>-derived class can be registered with the QML type system to enable the type to be used as a data type from within QML code.</p>
<p>The engine allows the registration of both <strong>instantiable</strong> and <strong>non-instantiable</strong> types. Registering an instantiable type enables a C++ class to be <strong>used as the definition of a QML object type</strong>, allowing it to be used in object declarations from QML code to create objects of this type. Registration also provides the engine with additional type metadata, enabling the type (and any enums declared by the class) to be <strong>used as a data type for property values, method parameters and return values, and signal parameters that are exchanged between QML and C++</strong>.</p>
<p>Registering a non-instantiable type also registers the class as a data type in this manner, but the type cannot be used instantiated as a QML object type from QML. This is useful, for example, if a type has enums that should be exposed to QML but the type itself should not be instantiable.</p>
<p>For a quick guide to choosing the correct approach to expose C++ types to QML, see <a href="https://doc.qt.io/qt-5/qtqml-cppintegration-overview.html#choosing-the-correct-integration-method-between-c-and-qml" target="_blank" rel="noopener">Choosing the Correct Integration Method Between C++ and QML</a>.</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://doc.qt.io/qt-5/qtqml-cppintegration-definetypes.html" target="_blank" rel="noopener">Defining QML Types from C++</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/23/5.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88/Qt/%E7%BC%96%E7%A8%8B%E7%A4%BA%E4%BE%8B/%E5%9F%BA%E4%BA%8ETCP%E5%A5%97%E6%8E%A5%E5%AD%97%E7%9A%84CS%E6%9E%B6%E6%9E%84%E7%9A%84%E5%8A%A0%E6%B3%95%E8%AE%A1%E7%AE%97%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ryan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/23/5.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88/Qt/%E7%BC%96%E7%A8%8B%E7%A4%BA%E4%BE%8B/%E5%9F%BA%E4%BA%8ETCP%E5%A5%97%E6%8E%A5%E5%AD%97%E7%9A%84CS%E6%9E%B6%E6%9E%84%E7%9A%84%E5%8A%A0%E6%B3%95%E8%AE%A1%E7%AE%97%E5%99%A8/" itemprop="url">基于TCP套接字的CS架构的加法计算器</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-23T09:23:40+08:00">
                2020-05-23
              </time>
            

            

            
          </span>

          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="功能设计">功能设计</h2>
<h3 id="客户端">客户端</h3>
<h3 id="服务端">服务端</h3>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/23/5.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88/Qt/%E7%BC%96%E7%A8%8B%E7%A4%BA%E4%BE%8B/%E5%9F%BA%E4%BA%8ETCP%E5%A5%97%E6%8E%A5%E5%AD%97%E7%9A%84%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84ClientServer%E6%B6%88%E6%81%AF%E4%BC%A0%E8%BE%93%E7%A8%8B%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ryan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/23/5.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88/Qt/%E7%BC%96%E7%A8%8B%E7%A4%BA%E4%BE%8B/%E5%9F%BA%E4%BA%8ETCP%E5%A5%97%E6%8E%A5%E5%AD%97%E7%9A%84%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84ClientServer%E6%B6%88%E6%81%AF%E4%BC%A0%E8%BE%93%E7%A8%8B%E5%BA%8F/" itemprop="url">基于TCP套接字的最简单的ClientServer消息传输程序</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-23T02:12:04+08:00">
                2020-05-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Qt/" itemprop="url" rel="index">
                    <span itemprop="name">Qt</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Qt/%E7%BC%96%E7%A8%8B%E7%A4%BA%E4%BE%8B/" itemprop="url" rel="index">
                    <span itemprop="name">编程示例</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Qt/%E7%BC%96%E7%A8%8B%E7%A4%BA%E4%BE%8B/web%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index">
                    <span itemprop="name">web编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="设计">设计</h2>
<p>分别实现一个client端和一个server端，client向server发送“Hello Server”，server收到client的信息后返回“Hello Client”。</p>
<h2 id="client实现">Client实现</h2>
<p>client.h代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CLIENT_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CLIENT_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QObject&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QTcpSocket&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QDebug&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Client</span> :</span> <span class="keyword">public</span> QObject</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Client</span><span class="params">(QObject *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">sendMsg</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span>;</span><br><span class="line"></span><br><span class="line">signals:</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> slots:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">connected</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">receiveMsg</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QTcpSocket *socket;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// CLIENT_H</span></span></span><br></pre></td></tr></table></figure>
<p>client.cpp代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"client.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Client</span>::<span class="built_in">Client</span>(QObject *parent) : QObject(parent)</span><br><span class="line">&#123;</span><br><span class="line">    socket = <span class="keyword">new</span> QTcpSocket();</span><br><span class="line">    <span class="built_in">connect</span>(socket, &amp;QTcpSocket::<span class="built_in">connected</span>,<span class="keyword">this</span>, &amp;<span class="built_in">Client</span>::<span class="built_in">connected</span>);</span><br><span class="line">    <span class="built_in">connect</span>(socket, &amp;QTcpSocket::readyRead, <span class="keyword">this</span>, &amp;<span class="built_in">Client</span>::receiveMsg);</span><br><span class="line">    qDebug() &lt;&lt; <span class="string">"Try to connect host..."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    socket-&gt;connectToHost(<span class="string">"127.0.0.1"</span>, <span class="number">8100</span>, QTcpSocket::ReadWrite);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Client::sendMsg</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    socket-&gt;<span class="built_in">write</span>(msg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Client::receiveMsg</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    qDebug() &lt;&lt; socket-&gt;readAll() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Client::connected</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    qDebug() &lt;&lt; <span class="string">"connected."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>main.cpp代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QGuiApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QQmlApplicationEngine&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"client.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QCoreApplication::setAttribute(Qt::AA_EnableHighDpiScaling);</span><br><span class="line"></span><br><span class="line">    <span class="function">QGuiApplication <span class="title">app</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line">    QQmlApplicationEngine engine;</span><br><span class="line">    <span class="function"><span class="keyword">const</span> QUrl <span class="title">url</span><span class="params">(QStringLiteral(<span class="string">"qrc:/main.qml"</span>))</span></span>;</span><br><span class="line">    QObject::<span class="built_in">connect</span>(&amp;engine, &amp;QQmlApplicationEngine::objectCreated,</span><br><span class="line">                     &amp;app, [url](QObject *obj, <span class="keyword">const</span> QUrl &amp;objUrl) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!obj &amp;&amp; url == objUrl)</span><br><span class="line">            QCoreApplication::<span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">    &#125;, Qt::QueuedConnection);</span><br><span class="line">    engine.load(url);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Client</span> client;</span><br><span class="line">    client.sendMsg(<span class="string">"Hello Server."</span>);</span><br><span class="line"><span class="comment">//    client.receiveMsg();</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> app.exec();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="server实现">Server实现</h2>
<p>server.h代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> SERVER_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SERVER_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QObject&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QTcpSocket&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QTcpServer&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QDebug&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Server</span> :</span> <span class="keyword">public</span> QObject</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Server</span><span class="params">(QObject *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">signals:</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> slots:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">newConnection</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">receiveMsg</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QTcpSocket *socket;</span><br><span class="line">    QTcpServer *server;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// SERVER_H</span></span></span><br></pre></td></tr></table></figure>
<p>server.cpp代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"server.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Server</span>::<span class="built_in">Server</span>(QObject *parent) : QObject(parent)</span><br><span class="line">&#123;</span><br><span class="line">    server = <span class="keyword">new</span> QTcpServer(<span class="keyword">this</span>);</span><br><span class="line">    <span class="built_in">connect</span>(server, &amp;QTcpServer::newConnection, <span class="keyword">this</span>, &amp;<span class="built_in">Server</span>::newConnection);</span><br><span class="line">    <span class="keyword">if</span>(!server-&gt;<span class="built_in">listen</span>(QHostAddress::Any, <span class="number">8100</span>)) &#123;</span><br><span class="line">        qDebug() &lt;&lt; <span class="string">"Can't listening on port 8100"</span> &lt;&lt; <span class="built_in">endl</span>;    <span class="comment">//错误信息</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        qDebug() &lt;&lt; <span class="string">"listening on port 8100..."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Server::newConnection</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    qDebug() &lt;&lt; <span class="string">"Waiting for connection..."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    socket = server-&gt;nextPendingConnection();</span><br><span class="line"><span class="comment">//    socket-&gt;setReadBufferSize(512);</span></span><br><span class="line">    <span class="built_in">connect</span>(socket, &amp;QTcpSocket::readyRead, <span class="keyword">this</span>, &amp;<span class="built_in">Server</span>::receiveMsg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Server::receiveMsg</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    qDebug() &lt;&lt; socket-&gt;readAll() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    socket-&gt;<span class="built_in">write</span>(<span class="string">"Hello Client."</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>main.cpp代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QGuiApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QQmlApplicationEngine&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"server.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QCoreApplication::setAttribute(Qt::AA_EnableHighDpiScaling);</span><br><span class="line"></span><br><span class="line">    <span class="function">QGuiApplication <span class="title">app</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line">    QQmlApplicationEngine engine;</span><br><span class="line">    <span class="function"><span class="keyword">const</span> QUrl <span class="title">url</span><span class="params">(QStringLiteral(<span class="string">"qrc:/main.qml"</span>))</span></span>;</span><br><span class="line">    QObject::<span class="built_in">connect</span>(&amp;engine, &amp;QQmlApplicationEngine::objectCreated,</span><br><span class="line">                     &amp;app, [url](QObject *obj, <span class="keyword">const</span> QUrl &amp;objUrl) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!obj &amp;&amp; url == objUrl)</span><br><span class="line">            QCoreApplication::<span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">    &#125;, Qt::QueuedConnection);</span><br><span class="line">    engine.load(url);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Server</span> server;</span><br><span class="line">    server.newConnection();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> app.exec();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="运行结果">运行结果</h2>
<p>client端：</p>
<div class="figure">
<img src="/2020/05/23/5.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88/Qt/%E7%BC%96%E7%A8%8B%E7%A4%BA%E4%BE%8B/%E5%9F%BA%E4%BA%8ETCP%E5%A5%97%E6%8E%A5%E5%AD%97%E7%9A%84%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84ClientServer%E6%B6%88%E6%81%AF%E4%BC%A0%E8%BE%93%E7%A8%8B%E5%BA%8F/image-20200523022240478.png" alt="image-20200523022240478">
<p class="caption">image-20200523022240478</p>
</div>
<p>server端：</p>
<div class="figure">
<img src="/2020/05/23/5.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88/Qt/%E7%BC%96%E7%A8%8B%E7%A4%BA%E4%BE%8B/%E5%9F%BA%E4%BA%8ETCP%E5%A5%97%E6%8E%A5%E5%AD%97%E7%9A%84%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84ClientServer%E6%B6%88%E6%81%AF%E4%BC%A0%E8%BE%93%E7%A8%8B%E5%BA%8F/image-20200523022227627.png" alt="image-20200523022227627">
<p class="caption">image-20200523022227627</p>
</div>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Ryan</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">36</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/liuxr98" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ryan</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>





  <script src='https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js'></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize("");
    }
  </script>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

</body>
</html>
